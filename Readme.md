# Basic usage

### requirements
    PostgreSQL (configured via application.conf)
    Java

### runnning server
   ./gradlew run

### API

* Create user:
curl http://localhost:8082/api/user -v -X PUT -d '{"username" : "user", "email" : "user@playkids.com"}' -H 'Content-type:application/json'

* Find user:
curl http://localhost:8082/api/user/1

* Create lottery:
curl http://localhost:8082/api/lottery -v -X PUT -d '{"price" : 50, "draw" : "2017-11-24T16:00:00.000-02:00[America/Sao_Paulo]"}' -H 'Content-type:application/json'

* Find lottery:
curl http://localhost:8082/api/lottery/1

* Buy ticket:
curl http://localhost:8082/api/ticket/buy -v -X POST -d '{"user" : 1, "lottery" : 1}' -H 'Content-type:application/json'    


# PlayKids Lottery
Welcome to the PlayKids Platforms Team! If you are reading this you should be excited to learn a lot, show your skills and helps us build great software for our customers.

To help you get ready to contribute to PlayKids, we are tasking you with an entire new project that you'll have to build from the ground up defining its architecture, build process, code style, UX and everything else. Fear not! This is just a dummy project to get you used to our workflow and tools.

Feel free to do whatever you want to fulfill the project's requirements. This is how we work on every project and we tend to challenge ourselves by learning new technologies and going the extra mile to impress our teammates and customers.

# Project Description
Your task is to build an online lottery game. Users must be able to enter a website, create a new account and buy tickets for lotteries. Each lottery will have its own ticket price and users will get an initial amount of 50 credits when they create a new account.

From time to time a lottery is closed and a prize in credits is given to the winner. The winner should receive an email notifying him that he received the prize as well as see a 'Congratulations!' message when he logs in to the website.

## Technical Requirements
The project must be built using a client-server architecture. The client must be a Single-Page Application and it must communicate with the server through a REST API.

 The backend can be made of a single or multiple services. Processing intensive tasks like choosing a winner and sending emails must be done asynchronously. It should also be built with scalability, security and resilience in mind.

 You must build a test suite for the parts of your software that you deem essential.

 All actions performed on the system must log events with information about who made the action, when and what was done.

 ## Technology stack suggestions
In order to best use this project for your training, we suggest that you use some of the programming languages, frameworks, libraries and tools that we use on most of our other projects:

 - Kotlin (https://kotlinlang.org/docs/reference/)
 - Gradle (https://gradle.org/docs/)
 - Intellij IDEA (https://www.jetbrains.com/idea/)
 - Vue.js (https://vuejs.org/v2/guide/)
 - Yarn (https://yarnpkg.com/en/)
 - PostgreSQL (https://www.postgresql.org/docs/10/static/index.html)
 - Cassandra (http://cassandra.apache.org/doc/latest/getting_started/index.html)
 - JWT (https://jwt.io/)
 - Ktor (http://ktor.io/quickstart/index.html)
 - Spek (http://spekframework.org/docs/latest/)
 - Mockito (http://site.mockito.org/ - https://github.com/nhaarman/mockito-kotlin)

 ## Reference projects
- BoJack
  - https://github.com/Movile/bojack-api
  - https://github.com/Movile/bojack-ui
- Kotlin Commons
  - https://github.com/Movile/kotlin-commons